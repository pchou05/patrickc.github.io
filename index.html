<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrick Chou</title>
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Preload critical images -->
    <link rel="preload" as="image" href="assets/lineArtPortrait.png">
    <link rel="preload" as="image" href="assets/orion nebula-1-1-1.jpg">
    <link rel="preload" as="image" href="assets/OhChute.png">
</head>
<body>

    <div class="hero" id="hero">
        <canvas id="particle-canvas"></canvas>
        <button class="particle-button" id="particle-0"onclick="location.href='#rocketry';">Rocketry</button>
        <button class="particle-button" id="particle-1" onclick="location.href='#robotics';">Robotics</button>
        <button class="particle-button" id="particle-2" onclick="location.href='#photography';">Photography</button>
        <h1 id="hero-title"></h1>
        <div class="portrait-container" id="portrait-container">
            <img src="assets/lineArtPortrait.png" alt="Portrait Base" class="portrait-base">
            <div class="portrait-reveal-layer">
                <canvas id="reveal-canvas"></canvas>
            </div>
        </div>
    </div>

    <section class="about-me" id="about" style="background-color: #F4F7F5;">
        <div class="card-container">
            <!-- Card 1 -->
            <div class="info-card">
                <h3>Who I Am</h3>
                <p>
                    Hello! I'm Patrick Chou, also known as MoodyDonut64 across various online platforms. I love tinkering with hardware and taking photos in my free time!
                </p>
            </div>
    
            <!-- Card 2 -->
            <div class="info-card">
                <h3>Designing</h3>
                <p>
                    Starting with LEGO robotics, I was limited to the parts available and the physical limitations of LEGO. Turning to the world of 3D modeling and CAD, I was able to create designs limited only by my imagination.
                </p>
                <p>
                    Starting with designing simple things like pencil organizers and phone stands, I have now designed and 3D printed complex parts for rocketry and robotics projects.
                </p>
                <p>
                    Since then, I have expanded out to not only robotics and rocketry but also photography equipment such as camera mounts and accessories. I have used my knowledge of CAD for biotech research.
                </p>
            </div>
    
            <!-- Card 3 -->
            <div class="info-card">
                <h3>Photography</h3>
                <p>
                    Ever since getting my first camera in middle school, I have loved capturing moments and scenes through photography. I have learned to capture the stars and nebulae through long exposure photography. I have also ventured into videography to capture my projects.
                </p>
            </div>
        </div>
    </section>

    <script type="module" src="js/init.js"></script>
    <header>
        <h1 id = "robotics" style="text-align: center; justify-content: center; background-color: var(--primary-green);">Robotics Work</h1>
    </header>
    <div class="container">
        <div class="card">
            <video width="100%" height="250" autoplay muted loop loading="lazy">
                <source src="assets/Doppleganger.mov" type="video/mp4" >
                Your browser does not support the video tag.
            </video>
            <h2>DopplÃ«ganger</h2>
            <p>Robot designed for the 2024 FRC season, capable of shooting foam rings both autonomously and via teleoperation. Worked on design, fabrication, and programming.</p>
        </div>
        <div class="card">
            <iframe width="100%" height="250" src="https://www.youtube.com/embed/BdBHYb3ZArI?si=purTU0sHTGLLSI7S&autoplay=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy"></iframe>
            <h2>Fish.</h2>
            <p> Robot designed for 2025 FRC season, capable of navigating through obstacles and manipulating PVC pipes segments. Worked on climbing mechanism, end effector and wiring.
            </p>
        </div>
    </div>
    <header>
        <h1 id = "rocketry" style="text-align: center; justify-content: center; background-color: var(--primary-green);">Rocketry Work</h1>
    </header>
    <div class="container">
        <div class="card">
            <img width="100%" height="auto" src="assets/PickleRick.png" alt="Pickle Rick" loading="lazy">
            <video width="100%" height="150" src="assets/3.29 launch.mov" autoplay muted loop loading="lazy"></video>
            <h2>Pickle Rick</h2>
            <p>Custom designed and 3D printed rocket capable of reaching 450 ft featuring on board flight computers. Capable of laucnhing and recovering 2 egg payload safely.
            </p>
        </div>
        <div class="card">
            <div style="text-align: center;">
                    <video width="100%" height="250" autoplay muted loop loading="lazy">
                        <source src="assets/AirBreakDeployment.mov" type="video/mp4">
                    </video>
                    <video width="100%" height="250" autoplay muted loop loading="lazy">
                        <source src="assets/AirBrakeVid.mp4" type="video/mp4">
                    </video>
            </div>
            <h2>Air Brake</h2>
            <p>Custom designed and 3D printed air brake system for model rockets. Designed to increase drag during asscent, allowing for a more controlled altitude control.</p>
        </div>
        <div class="card">
            <img width="100%" height="auto" src="assets/LaunchRelay.png" alt="Launch Relay" loading="lazy">
            <h2>Wireless Launch Relay</h2>
            <p>Remote detonation and launch control of model rockets through a web-based UI, featuring watchdog and heartbeat monitoring to ensure safe and reliable operation over long distances.</p>
        </div>
        <div class="card">
            <video width="100%" height="200" src="assets/staticFire.mov" autoplay muted loop loading="lazy"></video>
            <h2>Static Fire Stand</h2>
            <p>A robust stand designed to test the structural integrity of the airframe and validate ejection systems. It securely holds the rocket during hot fire tests, ensuring accurate and reliable performance assessments.</p>
        </div>
        
    </div>
    <header>
        <h1 id="other-engineering" style="text-align: center; justify-content: center; background-color: var(--primary-green);">Other Work</h1>
    </header>
    <div class="container">
        <div class="card">
            <img width="100%" height="auto" src="assets/microFluidic.png" alt="Microfluidic Tool" loading="lazy">
            <h2>Microfludic Device Analyzer</h2>
            <p>Developed a script to simulate and verify microfludic mixing devices given an input of stls of the mixer. </p>
        </div>
    </div>
    <header>
        <h1 id = "photography" style="text-align: center; background-color: var(--primary-green); padding: 20px; color: white; font-family: 'Fira Code';">
            My Artsy Side
        </h1>
    </header>
    <h3 style="text-align: center; background-color: var(--primary-green); padding: 5px; color: white; font-family: 'Fira Code';">
        My Photos
    </h3>
    <!-- First Carousel: Photography -->
    <div id="photo-carousel" class="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="assets/orion nebula-1-1-1.jpg" alt="Photo 1" loading="eager">
                <div class="carousel-caption">
                    <p>Orion Nebula captured through long exposure astrophotography</p>
                </div>
            </div>
            <div class="carousel-item">
                <img data-src="assets/MoonHighRes.jpg" alt="Photo 2" loading="lazy" class="lazy-load">
                <div class="carousel-caption">
                    <p>High-resolution photo of the Moon captured from my backyard</p>
                </div>
            </div>
            <div class="carousel-item">
                <img data-src="assets/JoshuaSunset.jpg" alt="Photo 3" loading="lazy" class="lazy-load">
                <div class="carousel-caption">
                    <p>Sunset at Joshua Tree</p>
                </div>
            </div>
            <div class="carousel-item">
                <img data-src="assets/FishRed.png" alt="Photo 4" style="height: 400px; width: auto; object-fit: cover; display: block; margin: 0 auto;" loading="lazy" class="lazy-load">
                <div class="carousel-caption">
                    <p>Fish. in action @ Central Valley Regional Competition</p>
                </div>
            </div>
        </div>
        <button class="carousel-control prev" onclick="prevSlidePhoto()">&#10094;</button>
        <button class="carousel-control next" onclick="nextSlidePhoto()">&#10095;</button>
    </div>

    <!-- Second Carousel: Doodles -->
    <div>
        <h3 style="text-align: center; background-color: var(--primary-green); padding: 5px; color: white; font-family: 'Fira Code';">
            My Doodles
        </h3>
    </div>
    <div id="doodles-carousel" class="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="assets/OhChute.png" alt="Doodle 1" style="height: 380px; object-fit: contain;" loading="eager">
                <p>Oh Chute</p>
            </div>
            <div class="carousel-item">
                <img data-src="assets/SpaceChillis.png" alt="Doodle 2" style="height: 350px; object-fit: contain;" loading="lazy" class="lazy-load">
                <div class="carousel-caption">
                    <p>Space Chillis</p>
                </div>
            </div>
            <div class="carousel-item">
                <img data-src="assets/BendyBoi.png" alt="Doodle 3" style="height: 350px; object-fit: contain;" loading="lazy" class="lazy-load">
                <div class="carousel-caption">
                    <p>Bendy Boi</p>
                </div>
            </div>
            <div class="carousel-item">
                <img data-src="assets/TheIncident.png" alt="Doodle 4" style="height: 400px; width: auto; object-fit: cover; display: block; margin: 0 auto;" loading="lazy" class="lazy-load">
                <div class="carousel-caption">
                    <p>"The Incident"</p>
                </div>
            </div>
        </div>
        <button class="carousel-control prev" onclick="prevSlideDoodles()">&#10094;</button>
        <button class="carousel-control next" onclick="nextSlideDoodles()">&#10095;</button>
    </div>

    <script>
        // Lazy loading function for carousel images
        function lazyLoadImage(img) {
            if (img.dataset.src && !img.src) {
                img.src = img.dataset.src;
                img.removeAttribute('data-src');
                img.classList.remove('lazy-load');
            }
        }

        // Preload adjacent carousel images
        function preloadAdjacentImages(carouselId, currentIndex) {
            const carousel = document.getElementById(carouselId);
            const items = carousel.querySelectorAll('.carousel-item');
            const totalSlides = items.length;
            
            // Preload next image
            const nextIndex = (currentIndex + 1) % totalSlides;
            const nextImg = items[nextIndex].querySelector('img.lazy-load');
            if (nextImg) {
                lazyLoadImage(nextImg);
            }
            
            // Preload previous image
            const prevIndex = (currentIndex - 1 + totalSlides) % totalSlides;
            const prevImg = items[prevIndex].querySelector('img.lazy-load');
            if (prevImg) {
                lazyLoadImage(prevImg);
            }
        }

        // Photo Carousel Controls
        let currentIndexPhoto = 0;
        let autoRotateIntervalPhoto = setInterval(nextSlidePhoto, 3000);

        const carouselPhoto = document.getElementById('photo-carousel');
        carouselPhoto.addEventListener('mouseenter', () => clearInterval(autoRotateIntervalPhoto));
        carouselPhoto.addEventListener('mouseleave', () => autoRotateIntervalPhoto = setInterval(nextSlidePhoto, 3000));

        function showSlidePhoto(index) {
            const carouselInner = carouselPhoto.querySelector('.carousel-inner');
            const totalSlides = carouselPhoto.querySelectorAll('.carousel-item').length;
            if (index >= totalSlides) {
                currentIndexPhoto = 0;
            } else if (index < 0) {
                currentIndexPhoto = totalSlides - 1;
            } else {
                currentIndexPhoto = index;
            }
            carouselInner.style.transform = `translateX(-${currentIndexPhoto * 100}%)`;
            
            // Preload adjacent images
            preloadAdjacentImages('photo-carousel', currentIndexPhoto);
        }

        function nextSlidePhoto() {
            showSlidePhoto(currentIndexPhoto + 1);
        }

        function prevSlidePhoto() {
            showSlidePhoto(currentIndexPhoto - 1);
        }

        // Doodles Carousel Controls
        let currentIndexDoodles = 0;
        let autoRotateIntervalDoodles = setInterval(nextSlideDoodles, 3000);

        const carouselDoodles = document.getElementById('doodles-carousel');
        carouselDoodles.addEventListener('mouseenter', () => clearInterval(autoRotateIntervalDoodles));
        carouselDoodles.addEventListener('mouseleave', () => autoRotateIntervalDoodles = setInterval(nextSlideDoodles, 3000));

        function showSlideDoodles(index) {
            const carouselInner = carouselDoodles.querySelector('.carousel-inner');
            const totalSlides = carouselDoodles.querySelectorAll('.carousel-item').length;
            if (index >= totalSlides) {
                currentIndexDoodles = 0;
            } else if (index < 0) {
                currentIndexDoodles = totalSlides - 1;
            } else {
                currentIndexDoodles = index;
            }
            carouselInner.style.transform = `translateX(-${currentIndexDoodles * 100}%)`;
            
            // Preload adjacent images
            preloadAdjacentImages('doodles-carousel', currentIndexDoodles);
        }

        function nextSlideDoodles() {
            showSlideDoodles(currentIndexDoodles + 1);
        }

        function prevSlideDoodles() {
            showSlideDoodles(currentIndexDoodles - 1);
        }

        // Initial preload of adjacent images when page loads
        window.addEventListener('DOMContentLoaded', () => {
            preloadAdjacentImages('photo-carousel', 0);
            preloadAdjacentImages('doodles-carousel', 0);
        });

        // Intersection Observer for lazy loading when carousel becomes visible
        if ('IntersectionObserver' in window) {
            const carouselObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const carousel = entry.target;
                        const lazyImages = carousel.querySelectorAll('img.lazy-load');
                        lazyImages.forEach(img => lazyLoadImage(img));
                    }
                });
            }, {
                rootMargin: '50px'
            });

            carouselObserver.observe(carouselPhoto);
            carouselObserver.observe(carouselDoodles);
        }
    </script>

    <div style="height: 50px; font-family: 'Fira Code'; display: flex; align-items: center; justify-content: center; background-image: url('assets/Joshua Tree Photo 2023.JPG'); background-size: cover; background-position: center;">
        <footer>
            <p style="color: white; background-color: rgb(40,30,40,.4); padding: 5px; display: inline-block; border-radius: 5px; font-size: 1rem; text-align: center;">&copy; 2024 Patrick Chou. All rights reserved. Last Updated 1/21/26</p>
        </footer>
    </div>
</body>
</html>